# C++面试题目

1. 内存的类型

   - 堆
     - 堆 (malloc和free)
     - free store（new和delete）
   - 栈
   - 程序代码区
   - 全局/静态存储区
   - 常量存储区

2. 左值、右值以及std::move

   **左值**：有标识符、可以取地址的表达式

   - 变量，函数和数据成员的名字
   - 返回左值引用的表达式，如++x、x = 1
   - 字符串字面量，如hello world

   **右值**：没有标识符，不能取地址的表达式，临时对象

   - 返回非引用类型的表达式，如x++，x+1
   - 除字符串以外的字面量，如42，true

   **左值引用**：const T&可以绑定到右值上

   **右值引用**：T&&

   **生命周期**：一个临时对象会在包含这个临时对象的完整表达式估值完成后、按生成顺序的逆序被销毁，除非有生命周期延长发生。

   **移动语义**：移动语义使得在 C++ 里返回大对象（如容器）的函数和运算符成为现实，因而可以提高代码的简洁性和可读性，提高程序员的生产率。

   - 移动构造函数

     - 获取另一个对象的资源
     - 清空其指针
     - 将其置为可以析构的状态	

   - swap成员函数

     交换成员

   - 全局swap函数

     调用成员Swap函数

   - 实现通用的 operator=

   - 上面各个函数如果不抛异常的话，应当标为 noexcept

   **返回值优化**：把对象直接构造到调用者的栈上

   - 有分支（if else）
   - std::move

   **std::move**: 上std::move移动不了什么，唯一的功能是把左值强制转化为右值，让右值引用可以指向左值

   ###  **std::forward** : std::forward<T>(u)有两个参数：T与 u。 a. 当T为左值引用类型时，u将被转换为T类型的左值； b. 否则u将被转换为T类型右值。

3. new和delete

   new:

   1. 自动计算内存的大小，然后分配内存，分配失败后会调用bad alloc
   2. 调用构造函数
   3. 转换指针并返回

   delete:

   1. 调用析构函数
   2. operator delete

4. 虚函数机制

5. 

